schema: '2.0'
stages:
  process-latest-by-pcon:
    cmd: papermill --no-progress-bar --no-report-mode latest-by-pcon.ipynb ../../output/labour-market-latest-by-pcon.ipynb
    deps:
    - path: ../../data/raw/lfs_by_pcon.csv
      hash: md5
      md5: 68030879ee9b5ef660f80bd76edd9e1d
      size: 68349604
    - path: latest-by-pcon.ipynb
      hash: md5
      md5: 1f863d9e530fe2c934edab20af599e10
      size: 167937
    outs:
    - path: ../../data/processed/labour-market/most_recent_by_pcon_2010.csv
      hash: md5
      md5: 78d57994fa7e9d42d04a556dba1d82f9
      size: 761418
  download-latest-monthly:
    cmd: papermill --no-progress-bar --no-report-mode get-latest-monthly-files.ipynb  ../../output/labour-market-latest-monthly-files.ipynb
    deps:
    - path: get-latest-monthly-files.ipynb
      hash: md5
      md5: 203636ec28bc66f79722048bd42146de
      size: 1494
    outs:
    - path: ../../data/raw/a06-latest.xls
      hash: md5
      md5: b55c248c9f370fcc9b99c6e0f0182abe
      size: 1420800
    - path: ../../data/raw/unem01-latest.xls
      hash: md5
      md5: e00ba8307ad88754c0aef5a65e4d9576
      size: 968192
  process-latest-a06:
    cmd: papermill --no-progress-bar --no-report-mode process-a06.ipynb ../../output/labour-market-a06.ipynb
    deps:
    - path: ../../data/raw/a06-latest.xls
      hash: md5
      md5: b55c248c9f370fcc9b99c6e0f0182abe
      size: 1420800
    - path: ../control.csv
      hash: md5
      md5: 281cbe09548cd37943a80f132c03d510
      size: 400
    - path: process-a06.ipynb
      hash: md5
      md5: 81ea6bc97f543d243a96eebafd683fdc
      size: 3045
    outs:
    - path: ../../data/metadata/labour-market/a06-codes.csv
      hash: md5
      md5: d69c5f3c000d7af1e81230b1d534fdaf
      size: 14290
    - path: ../../data/processed/labour-market/a06.csv
      hash: md5
      md5: 09fc5740410ef57ca0dc590b35fe4ebe
      size: 3333105
  process-latest-unem01:
    cmd: papermill --no-progress-bar --no-report-mode process-unem01.ipynb ../../output/labour-market-unem01.ipynb
    deps:
    - path: ../../data/raw/unem01-latest.xls
      hash: md5
      md5: e00ba8307ad88754c0aef5a65e4d9576
      size: 968192
    - path: ../control.csv
      hash: md5
      md5: 281cbe09548cd37943a80f132c03d510
      size: 400
    - path: process-unem01.ipynb
      hash: md5
      md5: a5ffa285de40b286ae15c747e9d82863
      size: 8596
    outs:
    - path: ../../data/metadata/labour-market/unem01-codes.csv
      hash: md5
      md5: 400a4e587dce00a949932aebb18a1ea4
      size: 5512
    - path: ../../data/processed/labour-market/unem01.csv
      hash: md5
      md5: 699a6a765ac753e6a1d857016b3e3a3a
      size: 3975529
  download-from-nomis:
    cmd: python download-from-nomis-api.py
    deps:
    - path: download-from-nomis-api.py
      hash: md5
      md5: f7ddfdbcb234524c3617112d1ff5b326
      size: 6277
    outs:
    - path: ../../data/raw/lfs_by_pcon.csv
      hash: md5
      md5: 68030879ee9b5ef660f80bd76edd9e1d
      size: 68349604

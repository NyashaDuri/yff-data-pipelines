schema: '2.0'
stages:
  check-for-page-updates:
    cmd: python control.py
    deps:
    - path: control.py
      hash: md5
      md5: 64b22dddf96633c84341fbb72271d0c3
      size: 542
    outs:
    - path: control.csv
      hash: md5
      md5: 934a0caa245c0407a70d196e3b8a936e
      size: 9
  nomis-download:
    cmd: python nomis.py
    deps:
    - path: nomis.py
      hash: md5
      md5: 47ec604aa9c59a1ee1e41e2649959bc4
      size: 11405
    outs:
    - path: ../data/raw/claimants-by-pcon-2010-latest.csv
      hash: md5
      md5: 7f387e1ef61579c73dd4f5a496150091
      size: 488162
    - path: ../data/raw/population-estimates-by-pcon-2010-latest.csv
      hash: md5
      md5: 347e6eb05cdb45f1d08a2d9437bb6956
      size: 383023
  process-claimants:
    cmd: papermill claimants.ipynb ../output/claimants.ipynb
    deps:
    - path: ../data/raw/claimants-by-pcon-2010-latest.csv
      hash: md5
      md5: 7f387e1ef61579c73dd4f5a496150091
      size: 488162
    - path: ../data/raw/population-estimates-by-pcon-2010-latest.csv
      hash: md5
      md5: 347e6eb05cdb45f1d08a2d9437bb6956
      size: 383023
    - path: claimants.ipynb
      hash: md5
      md5: 9637e25a5e987195849c51e86855ff2b
      size: 479184
    outs:
    - path: ../data/processed/claimants/claimants-per-population-latest.csv
      hash: md5
      md5: 228603218411824d513e0774f6429760
      size: 93676
  trigger-site-data:
    cmd: python trigger.py
    deps:
    - path: ../data/metadata
      hash: md5
      md5: 49ad7c9a9f39579d00af9e89c91ad91c.dir
      size: 182824
      nfiles: 3
    - path: ../data/processed
      hash: md5
      md5: a4dabbe29f0ad9b6b2215eb201ce5793.dir
      size: 20471384
      nfiles: 5
    - path: trigger.py
      hash: md5
      md5: 14ccb69d7e308d2063db4a6212fd850d
      size: 515
